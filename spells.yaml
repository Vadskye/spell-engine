_cantrip_blur:
  buff: cover_miss_physical
  duration: round
  range: close
_cantrip_fear:
  attack_subeffects:
    critical_success:
      condition: frightened
    success:
      condition: shaken
  duration: short
  limit_affected: mind_affecting
  range: medium
_cantrip_disorient:
  limit_affected: mind_affecting
  attack_subeffects:
    success:
      condition: disoriented
    critical_success:
      condition: confused
  range: close
  duration: round
_cantrip_damage_reduction:
  breakable: damage_reduction_easy
  buff:
    damage_reduction: physical
  duration: round
  range: close
_cantrip_flare:
  attack_subeffects:
    success:
      condition: impaired
  duration: short
  range: close
_cantrip_daze:
  attack_subeffects:
    success:
      condition: dazed
  duration: round
_cantrip_damage:
  damage: cantrip
  range: close
_cantrip_drain_life:
  damage: cantrip
  misc: 1 # really weak life drain
_cantrip_exhaustion:
  attack_subeffects:
    success:
      condition: fatigued
    critical_success:
      condition: exhausted
  duration: short
  range: close
_cantrip_precognition:
  buffs:
    - awesome_point: attacks
  duration: round
  range: close
_cantrip_slow:
  attack_subeffects:
    success:
      condition: slowed
    failure:
      condition: half_speed
  duration: round
  range: close
ablate_impact:
  buff:
    damage_reduction: physical
  casting_time: immediate
  components: nosomatic
  duration: round
  personal_only: true
ablative_spellshield:
  buff:
    damage_reduction: spell
  casting_time: immediate
  components: nosomatic
  duration: round
  personal_only: true
acid_arrow:
  damage: normal
  range: medium
  spell_resistance: false
acid_arrow_greater:
  attack_subeffects:
    effect:
      damage: normal
    success:
      condition: staggered
      duration: concentration
  range: medium
  spell_resistance: false
acid_fog:
  breakable: leave_area
  range: medium
  subeffects:
    - condition: fog
      duration: short
    - damage: normal
      triggered: true
      trigger_condition: damage_every_round
      trigger_duration: short
  targets: all
  spell_resistance: false
  zone: medium cylinder
agony:
  attack_subeffects:
    success:
      condition: take_double_damage
    failure:
      condition: take_double_damage_once
  duration: short
  range: medium
  limit_affected: mind_affecting
aid:
  buffs:
    - temporary_hp
    - immune: fear
  duration: personal_long
air_walk:
  buff: walking_flight
  duration: short
  range: touch
#align_weapon:
antilife_shell:
  buff: unapproachable
  duration: medium
  emanation: small radius
  targets: all
  personal_only: true
antimagic_field:
  condition: antimagic
  duration: short
  emanation: small radius
  targets: all
aqueous_blade:
  buff: aqueous_blade
  duration: short
  range: close
assimilate:
  range: close
  subeffects:
    - damage: kill_at_zero
    - buff: disguise
      duration: extreme
      personal_only: true
      no_prebuff: true
      noncombat_buff: true
aversion:
  limit_affected: mind_affecting
  range: medium
  attack_subeffects:
    critical_success:
      condition: aversion
      duration: permanent
    success:
      condition: aversion
      duration: short
bane:
  # condition: damage_if_damaged
  condition: impaired
  range: close
  duration: short
  limit_affected: mind_affecting
bane_mass:
  base: bane
  targets: five
  range: medium
banishment:
  range: medium
  spell_resistance: false
  attack_subeffects:
    noncritical_effect:
      damage: normal
    critical_success:
      instant_effect: banishment
      limit_affected: creature_type
  triggered: true
  trigger_condition: standard_action_by_you
  trigger_duration: concentration
barkskin:
  breakable: damage_reduction_easy
  buff:
    damage_reduction: physical
  duration: personal_long
  range: close
black_tentacles:
  duration: short
  attack_subeffects:
    effect:
      subeffects:
        - damage: normal
        - condition: half_speed
    critical_success:
      subeffects:
        - condition: immobilized
          breakable: grapple
  breakable: leave_area
  triggered: true
  trigger_condition: every_round
  trigger_duration: short
  targets: all
  zone: medium radius
blade_barrier:
  damage: normal
  triggered: true
  trigger_condition: enter_zone
  trigger_duration: short
  shapeable: true
  targets: all
  zone: huge wall
blasphemy:
  components: nosomatic
  base: unholy_blight
  range: ~
  burst: large radius
bless:
  buff:
    awesome_point: attacks
  duration: short
  range: close
bless_mass:
  base: bless
  targets: five
blur:
  buff: concealment
  duration: personal_long
  range: close
burning_hands:
  burst: medium cone
  damage: normal
  targets: all
call_lightning: #-1 die size - lower than normal, higher than AOE
  damage: normal
  expended: caster_level
  range: medium
  triggered: true
  trigger_condition: standard_action_by_you
  trigger_duration: medium
call_lightning_greater:
  attack_subeffects:
    effect:
      damage: normal
    success:
      condition: staggered
      duration: short
  expended: caster_level
  range: medium
  triggered: true
  trigger_condition: standard_action_by_you
  trigger_duration: medium
calm_emotions:
  burst: large radius
  breakable: violent_action_by_any
  attack_subeffects:
    success:
      condition: no_violence
  limit_affected: mind_affecting
  duration: concentration
  range: medium
  targets: all
  misc: -3 # has to affect everyone to be really useful
certain_blind:
  condition: blinded
  range: close
  duration: short
certain_daze:
  condition: dazed
  range: close
  duration: short
certain_daze_round:
  condition: dazed
  range: close
  duration: round
chain_lightning:
  damage: normal
  burst: medium radius
  range: medium
  targets: enemies
#changestaff
chaos_hammer:
  limit_affected: nonalignment
  range: medium
  attack_subeffects:
    effect:
      damage: normal
    critical_success:
      condition: disoriented
      duration: short
  burst: small radius
  targets: all
charm_monster:
  base: charm_person
  limit_affected: mind_affecting
  range: medium
charm_monster_mass:
  base: charm_monster
  limit: large radius
  targets: all
  range: ~
charm_person:
  components: noverbal
  limit_affected: creature_type
  range: close
  attack_subeffects:
    success:
      condition: charmed
      duration: medium
    critical:
      condition: charmed
      duration: permanent
charm_person_mass:
  base: charm_person
  limit: large radius
  targets: all
  range: ~
#circle_of_death:
clenched_fist:
  subeffects:
    - damage: normal
    - attack_subeffects:
        critical_success:
          condition: staggered
          duration: short
  range: medium
  triggered: true
  trigger_condition: every_round
  trigger_duration: short
cloak_of_single_chaos:
  base: cloak_of_chaos
  targets: ~
cloak_of_chaos:
  buffs:
    - spell_resistance_limited
    - retributive_damage
  duration: short
  targets: five
  range: close
#cloudkill:
cloud_of_bats:
  burst: medium cone
  targets: all
  attack_subeffects:
    success:
      condition: impaired
      duration: short
    critical_success:
      condition: severely_impaired
      duration: short
color_spray:
  burst: medium cone
  attack_subeffects:
    critical_success:
      conditions:
        - partially_blinded
        - partially_blinded
      duration: short
    success:
      condition: partially_blinded
      duration: short
  targets: all
#combat_transformation:
command:
  limit_affected: language
  attack_subeffects:
    critical_success:
      condition: stunned
    success:
      condition: severely_impaired
    failure:
      condition: impaired
  duration: round
  misc: -1 # instead of suffering the given effects, the target can obey the command
  range: medium
#command_greater:
command_mass:
  base: command
  targets: five
cone_of_cold:
  burst: medium cone
  subeffects:
    - damage: normal
    - condition: half_speed
      duration: short
  targets: all
cone_of_cold_greater:
  base: cone_of_cold
  burst: large cone
confusion:
  limit_affected: mind_affecting
  attack_subeffects:
    critical_success:
      condition: confused
      duration: short
    success:
      condition: disoriented
      duration: short
  range: medium
confusion_mass:
  base: confusion
  limit: medium radius
  targets: five
#control water
#create sound
#creeping doom
cripple:
  attack_subeffects:
    noncritical_effect:
      damage: normal
    critical_success:
      condition: paralyzed
      duration: short
    success:
      condition: staggered
      duration: short
  range: close
#crushing_despair:
crushing_hand:
  attack_subeffects:
    effect:
      damage: normal
    critical_success:
      breakable: deal_physical_damage
      condition: grappled
      duration: short
  range: medium
  triggered: true
  trigger_condition: every_round
  trigger_duration: short
cure_light_wounds:
  damage: healing
  range: medium
cure_light_wounds_mass:
  damage: healing
  burst: medium radius
  range: medium
  targets: allies
curse_of_blood_and_bone:
  attack_subeffects:
    effect:
      damage: normal
    critical_success:
      condition: lower_max_hp
      duration: year
    success:
      condition: lower_max_hp
      duration: short
  range: medium
  dispellable: false
  breakable: specific_spell
curse_of_enfeeblement:
  attack_subeffects:
    success:
      condition:
        penalties:
          - attribute
  duration: year
  breakable: specific_spell
  dispellable: false
  range: close
curse_of_the_wayward_mind:
  duration: year
  dispellable: false
  breakable: specific_spell
  attack_subeffects:
    critical_success:
      condition: confused
    success:
      condition: disoriented
    failure:
      condition: disoriented
      duration: short
      misc: -1 #eh, it's close enough
  range: close
darkvision:
  buff: darkvision
  duration: long
  noncombat_buff: true
default_spell:
  casting_time: standard
  dispellable: true
  spell_resistance: true
#daylight
death_knell:
  attack_subeffects:
    effect:
      damage: normal
    success:
      condition: die_at_zero
      duration: short
  range: medium
  #missing buff at 0 HP
death_ward:
  buffs:
    - immune: death
    - immune: negative_energy
  duration: short
  range: close
death_ward_mass:
  base: death_ward
  range: medium
  targets: five
deep_slumber:
  attack_subeffects:
    critical_success:
      condition: asleep
      duration: short
    success:
      condition: blinded
      duration: short
    failure:
      condition: dazed
      duration: short
  limit_affected: mind_affecting
  range: medium
deflection:
  buffs:
    - awesome_point: defenses
    - awesome_point_regeneration: short
  duration: long
  personal_only: true
delay_damage:
  buff: delay_damage
  duration: medium
  personal_only: true
delay_poison:
  duration: short
  range: close
  buff:
    immune: poison
delayed_blast_fireball:
  damage: normal
  burst: medium radius
  delayable: true
  range: medium
  targets: all
destruction:
  range: medium
  attack_subeffects:
    noncritical_effect:
      damage: normal
    critical_success:
      instant_effect: death
    success:
      condition: staggered
      duration: short
detect_alignment:
  knowledge: alignment
  emanation: large cone
  duration: concentration
  targets: all
dictum:
  components: nosomatic
  base: orders_wrath
  range: ~
  burst: large radius
dimension_door:
  teleport:
    range: extreme
    unrestricted: true
  personal_only: true
  components: nosomatic
dimension_door_mass:
  base: dimension_door
  targets: five
  personal_only: false
dimension_slide:
  range: medium
  teleport:
    range: medium
dimensional_anchor:
  range: medium
  attack_subeffects:
    success:
      condition: dimension_lock
      duration: short
    critical_success:
      condition: dimension_lock
      duration: year
  spell_resistance: false
  dispellable: false
discern_lies:
  emanation: large cone
  duration: concentration
  knowledge: lies
  spell_resistance: false
  targets: all
discern_vulnerability:
  casting_time: swift
  range: medium
  knowledge: vulnerabilities
discordant_song:
  burst: medium radius
  range: medium
  targets: all
  attack_subeffects:
    success:
      condition: disoriented
    critical_success:
      condition: confused
  duration: short
disintegrate:
  damage: kill_at_zero
  range: close
  misc: 1 #disintegrate objects
dismissal:
  range: medium
  attack_subeffects:
    noncritical_effect:
      damage: normal
    critical_success:
      instant_effect: banishment
      limit_affected: creature_type
dismissal_mass:
  base: dismissal
  targets: five
dispel_magic:
  range: medium
  spell_resistance: false
  attack_subeffects:
    success:
      instant_effect: dispel
dispel_magic_greater:
  base: dispel_magic
  burst: medium radius
  targets: all
displacement:
  buff: half_miss_physical
  duration: short
  range: close
#disrupting_weapon
divine_favor:
  buffs:
    - awesome_point:
      - all
  duration: short
  personal_only: true
divine_favor_greater:
  buffs:
    - awesome_point:
      - all
    - awesome_point_regeneration: short
  duration: long
  personal_only: true
dominate_person:
  range: close
  attack_subeffects:
    critical_success:
      condition: dominated
      duration: short
    success:
      condition: confused
      duration: short
    failure:
      condition: staggered
      duration: short
  limit_affected: creature_type
dominate_monster:
  base: dominate_person
  range: medium
  limit_affected: mind_affecting
drain_life:
  subeffects:
    - damage: normal
    - buff: temporary_hp
      duration: short
      personal_only: true
      no_prebuff: true
  range: medium
earths_pull:
  attack_subeffects:
    success:
      condition: slowed
    failure:
      condition: half_speed
  duration: short
  limit_affected: max_size_large
  range: close
#earthen_blade:
earth_glide:
  buff: earth_glide
  duration: short
earthquake:
  targets: all
  zone: medium radius
  attack_subeffects:
    effect:
      instant_effect: prone
    success:
      condition: immobilized
      breakable: grapple
      duration: short
      dispellable: false
  limit_affected: on_ground
earthspike:
  range: medium
  spell_resistance: false
  attack_subeffects:
    effect:
      damage: normal
  limit_affected: near_ground
earthspike_mass:
  base: earthspike
  targets: five
#elemental_swarm
energy_conversion:
  range: close
  subeffects:
    - buff:
        damage_reduction: energy_all
      duration: long
      personal_only: true
    - damage: normal
enervation:
  instant_effect: negative_levels
  range: close
enervation_greater:
  attack_subeffects:
    success:
      instant_effect: full_negative_levels
    failure:
      instant_effect: negative_levels
  range: close
enlarge_monster:
  base: enlarge_person
  limit_affected: max_size_large
enlarge_monster_mass:
  base: enlarge_person_mass
  limit_affected: max_size_large
enlarge_person:
  buffs:
    - increase_size
  casting_time: full_round_buff
  duration: short
  limit_affected: creature_type
  range: medium
enlarge_person_mass:
  base: enlarge_person
  range: medium
  targets: five
entangle:
  attack_subeffects:
    success:
      condition: slowed
    failure:
      condition: half_speed
  duration: short
  range: medium
  breakable: grapple
  limit_affected: near_plants
  spell_resistance: false
entangling_growth:
  base: entangle
  range: long
  limit_affected: ~
entropic_shield:
  buff: half_miss_ranged
  range: close
  duration: short
ethereal_jaunt:
  buff: ethereal
  duration: short
  personal_only: true
etherealness:
  buff: ethereal
  duration: short
  targets: five
eyebite:
  range: medium
  attack_subeffects:
    effect:
      damage: normal
    success:
      condition: impaired
      duration: short
    critical:
      condition: severely_impaired
      duration: short
faerie_fire:
  condition: faerie_fire
  duration: short
  burst: small radius
  range: medium
  targets: all
#false_reality
fear:
  attack_subeffects:
    critical_success:
      condition: panicked
    success:
      condition: frightened
    failure:
      condition: shaken
  duration: short
  limit_affected: mind_affecting
  range: close
fear_mass:
  base: fear
  range: medium
  targets: five
feather_fall:
  casting_time: swift
  components: nosomatic
  buff: feather_fall
  duration: short
  limit_affected: falling
  misc: -1 # max_size_medium
  range: medium
feeblemind:
  attack_subeffects:
    critical_success:
      condition: feeblemind
      duration: permanent
    success:
      condition: feeblemind
      duration: short
    failure:
      condition: dazed
      duration: short
  limit_affected: mind_affecting
  range: close
finger_of_death:
  range: medium
  attack_subeffects:
    noncritical_effect:
      damage: normal
    critical_success:
      instant_effect: death
    success:
      condition: staggered
      duration: short
    failure:
      condition: sickened
      duration: short
fire_seeds:
  burst: small radius
  damage: normal
  expended: single_use
  range: medium
  triggered: true
  trigger_condition: standard_action_by_any
  trigger_duration: extreme
  targets: all
fire_shield:
  buffs:
    - damage_reduction: energy_single
    - retributive_damage
    - radiate_light
  duration: short
  range: close # of the retributive damage
fire_shield_long:
  buffs:
    - damage_reduction: energy_single
    - retributive_damage
    - radiate_light
  duration: long
  personal_only: true
fire_storm:
  range: medium
  burst: large radius
  damage: normal
  targets: enemies
fireball:
  range: medium
  burst: small radius
  damage: normal
  targets: all
flame_blade:
  buff: flame_blade
  duration: medium
  personal_only: true
flame_strike:
  range: close
  burst: medium cylinder
  damage: normal
  targets: enemies
fly:
  duration: short
  buff: flight
fog_cloud:
  breakable: leave_area
  condition: fog
  duration: short
  range: medium
  spell_resistance: false
  targets: all
  zone: medium radius
fog_sea:
  base: fog_cloud
  zone: colossal radius
fog_shield:
  condition: fog
  duration: short
  spell_resistance: false
  targets: all
  emanation: medium radius
forcecage:
  attack_subeffects:
    success:
      condition: out_of_battle
  duration: short
  range: medium
  limit_affected: max_size_large
foresee_probability:
  buff: foresee_probability
  duration: short
  expended: five
  range: medium
foresight:
  buffs:
    - immune: unaware
  duration: long
  personal_only: true
foresight_greater:
  buffs:
    - immune: unaware
    - win_initiative
  duration: long
  personal_only: true
forget:
  attack_subeffects:
    critical_success:
      condition: forget
      duration: permanent
    success:
      condition: forget
      duration: medium
  limit_affected: mind_affecting
  components: noverbal
  range: medium
freedom:
  buffs:
    - immune: grapple
    - immune: movement_effects
    - immune: underwater
  range: close
  duration: short
freedom_mass:
  base: freedom
  range: medium
  targets: five
  duration: short
freedom_personal:
  base: freedom
  range: ~
  personal_only: true
  duration: long
frost_shield:
  buff: retributive_damage
  duration: short
  personal_only: true
fungal_growth:
  condition: sickened
  duration: created
  breakable: standard_action_by_any
  range: close
  misc: 1 # deals damage over time and if improperly removed
funny_hats:
  burst: large radius
  targets: all
  instant_effect: nothing
gaseous_form:
  components: noverbal
  duration: short
  buff: gaseous_form
gentle_descent:
  buff: glide
  duration: short
  range: close
gentle_descent_mass:
  base: gentle_descent
  range: medium
  targets: five
ghoul_touch:
  range: close
  attack_subeffects:
    success:
      condition: staggered
      duration: short
    failure:
      condition: sickened
      duration: short
#giant_vermin
glitterdust:
  condition: faerie_fire
  duration: short
  burst: medium radius
  range: medium
  targets: all
  spell_resistance: false
  breakable: deal_energy_damage
glitterdust_alt:
  range: medium
  attack_subeffects:
    effect:
      condition: faerie_fire
    success:
      condition: partially_blinded
    critical_success:
      condition: severely_impaired
  duration: short
  spell_resistance: false
  breakable: deal_energy_damage
grasping_hand:
  attack_subeffects:
    success:
      condition: grappled
      duration: short
  range: medium
  triggered: true
  trigger_condition: every_round
  trigger_duration: short
grease:
  range: close
  zone: small radius
  spell_resistance: false
  attack_subeffects:
    effect:
      condition: grease
      breakable: leave_area_impeded
      duration: short
    success:
      instant_effect: prone
  targets: all
gust_of_wind:
  instant_effect: shove_strong
  zone: large line
  targets: all
harm:
  range: medium
  attack_subeffects:
    effect:
      damage: kill_at_zero
haste_lesser:
  buff: double_speed
  duration: short
  range: close
haste:
  buffs:
    - double_speed
    - extra_attack_with_penalty
  duration: short
  range: close
haste_personal:
  buffs:
    - double_speed
    - extra_attack_with_penalty
  duration: long
  personal_only: true
# haste scales too well
haste_mass:
  base: haste
  range: medium
  targets: five
heal:
  range: close
  subeffects:
    - damage:
        critical_overbleed: 2
    - instant_effect:
        remove_conditions: heal
heat_metal:
  range: medium
  attack_subeffects:
    effect:
      damage: normal
    success:
      condition: dazed
      duration: round
  limit_affected: touching_metal
heroism:
  duration: short
  buffs:
    - temporary_hp
    - immune: fear
    - awesome_point: attacks
  range: close
heroism_mass:
  base: heroism
  range: medium
  targets: five
hold_monster:
  base: hold_person
  limit_affected: mind_affecting
  range: medium
hold_monster_mass:
  base: hold_monster
  range: long
  targets: five
hold_person:
  range: close
  limit_affected: creature_type
  attack_subeffects:
    success:
      condition: immobilized
    failure:
      condition: quarter_speed
  duration: short
hold_person_mass:
  base: hold_person
  range: medium
  targets: five
holy_aura:
  base: cloak_of_chaos
holy_smite:
  limit_affected: nonalignment
  range: medium
  attack_subeffects:
    effect:
      damage: normal
    critical_success:
      condition: dazed
      duration: short
  burst: small radius
  targets: all
holy_word:
  components: nosomatic
  base: holy_smite
  range: ~
  burst: large radius
horrid_wilting:
  damage: normal
  range: long
  burst: large radius
  targets: enemies
hypnotic_pattern:
  zone: large radius
  range: medium
  duration: short
  targets: all
  condition: fascinated
  limit_affected: mind_affecting
  breakable: violent_action_by_any
hypnotic_pattern_greater:
  base: hypnotic_pattern
  duration: medium
  range: extreme
  misc: 1 # make the lights mobile
ice_storm:
  range: medium
  zone: small cylinder
  targets: all
  subeffects:
    - damage: normal
    - condition: grease
      duration: short
      breakable: leave_area_impeded
      misc: 1 # min level 1
implosion:
  range: medium
  attack_subeffects:
    noncritical_effect:
      damage: normal
    critical_success:
      instant_effect: death
    success:
      condition: staggered
      duration: short
  triggered: true
  trigger_condition: standard_action_by_you
  trigger_duration: concentration
imprisonment:
  range: medium
  limit_affected: on_ground
  dispellable: false
  attack_subeffects:
    noncritical_effect:
      damage: normal
    critical_success:
      breakable: specific_spell
      condition: stasis
      duration: permanent
    success:
      condition: slowed
      duration: short
    failure:
      condition: half_speed
      duration: short
inertial_shield:
  duration: short
  buff:
    damage_reduction: physical
  range: close
invulnerability_lesser:
  duration: long
  buff:
    damage_reduction: all
  personal_only: true
personal_shield:
  duration: personal_long
  buff:
    damage_reduction: physical
inflict_critical_wounds:
  damage:
    critical_overbleed: 2
  range: medium
inflict_critical_wounds_mass:
  base: inflict_critical_wounds
  burst: medium radius
  range: medium
  targets: five
interposing_hand:
  breakable: deal_physical_damage
  buff: cover
  duration: short
#invest_magic:
invisibility:
  buff: invisible
  duration: short
  breakable: if_attack
  range: close
invisibility_greater:
  base: invisibility
  breakable: if_attack_per_round
invisibility_mass:
  base: invisibility
  range: medium
  limit: medium radius
  targets: five
iron_body:
  duration: short
  buffs:
    - damage_reduction: physical
    - immune: construct
  antibuffs:
    - half_speed
  personal_only: true
irresistible_dance:
  range: close
  duration: short
  limit_affected: mind_affecting
  attack_subeffects:
    success:
      condition: stunned
    failure:
      condition: dazed
#knock:
levitate:
  range: medium
  duration: short
  buff: levitation
lifeseeking_missile:
  base: magic_missile
  limit: medium radius
  targets: automatically_find_one
  range: medium
lightning_bolt:
  damage: normal
  burst: large line
  targets: all
link_vitality:
  limit: medium radius
  targets: two
  attack_subeffects:
    success:
      condition: link_vitality
      duration: short
locate_creature:
  knowledge: creature_location
  range: extreme
locate_entity:
  knowledge: creature_or_object_location
  range: extreme
locate_object:
  knowledge: object_location
  range: extreme
longstrider:
  buff: ten_foot_speed
  duration: long
  personal_only: true
link_vitality_mass:
  limit: medium radius
  targets: five
  attack_subeffects:
    success:
      condition: link_vitality
      duration: short
mage_armor:
  buff: mage_armor
  duration: long
  personal_only: true
  misc: -1 # it's sort of necessary to have defense?
#mage_hand
mages_disjunction:
  burst: medium radius
  range: medium
  instant_effect: dispel
  spell_resistance: false
  targets: all
magic_circle_against_alignment:
  duration: short
  emanation: medium radius
  targets: all
  limit_affected: alignment
  buff: retributive_damage
#magic_fang:
magic_missile:
  damage: normal
  range: medium
mark_of_tracking:
  knowledge: creature_or_object_location
  # long duration is +2
  # but having to target the creature offsets this by about 2
  # so skip both
  range: medium
#magic_vestment:
##magic_weapon
#major_image
maze:
  range: close
  condition: out_of_battle
  duration: medium
  breakable: maze
#manipulate_probability:
meteor_swarm:
  range: medium
  burst: large cylinder
  targets: all
  attack_subeffects:
    effect:
      damage: normal
    success:
      instant_effect: prone
missile_storm:
  range: medium
  damage: normal
  targets: five
missile_storm_greater:
  burst: huge radius
  damage: normal
  targets: enemies
moment_of_prescience:
  buff:
    awesome_point: all
  duration: round
  personal_only: true
  casting_time: immediate
moment_of_prescience_greater:
  buffs:
    - awesome_point: all
    - awesome_point: all
  duration: round
  personal_only: true
  casting_time: immediate
nondetection:
  buff: spell_resistance_limited
  duration: extreme
  noncombat_buff: true
orders_wrath:
  limit_affected: nonalignment
  range: medium
  attack_subeffects:
    effect:
      damage: normal
    critical_success:
      condition: slowed
      duration: short
  burst: small radius
  targets: all
phantasmal_killer:
  range: close
  limit_affected: mind_affecting
  attack_subeffects:
    critical_success:
      instant_effect: death
      misc: -1 # must hit both Will and Fort
    success:
      condition: frightened
      duration: short
    failure:
      condition: shaken
      duration: short
phantasmal_killer_mass:
  base: phantasmal_killer
  range: medium
  targets: five
#phantasmal_maze
#phantasmal_wound:
#poison
polar_ray:
  range: close
  subeffects:
    - damage: normal
    - attack_subeffects:
        success:
          condition: slowed
          duration: short
        failure:
          condition: half_speed
          duration: short
power_word_blind:
  components: nosomatic
  range: close
  attack_subeffects:
    success:
      condition: blinded
      duration: short
    failure:
      condition: impaired
      duration: short
power_word_confuse:
  components: nosomatic
  limit_affected: mind_affecting
  range: close
  attack_subeffects:
    success:
      condition: confused
      duration: short
    failure:
      condition: disoriented
      duration: short
power_word_daze:
  components: nosomatic
  limit_affected: mind_affecting
  range: close
  attack_subeffects:
    success:
      condition: dazed
      duration: short
power_word_impair:
  components: nosomatic
  limit_affected: mind_affecting
  range: close
  attack_subeffects:
    success:
      condition: severely_impaired
      duration: short
    failure:
      condition: impaired
      duration: short
power_word_stun:
  components: nosomatic
  limit_affected: mind_affecting
  range: close
  attack_subeffects:
    success:
      conditions:
        - dazed
        - half_speed
      duration: short
    critical_success:
      condition: stunned
      duration: short
    failure:
      condition: half_speed
      duration: short
precognition_lesser:
  buffs:
    - awesome_point: all
  duration: short
  personal_only: true
precognition:
  buffs:
    - awesome_point: all
    - awesome_point: all
  duration: short
  personal_only: true
precognition_greater:
  buffs:
    - awesome_point: all
    - awesome_point: all
    - awesome_point: all
  duration: short
  personal_only: true
prismatic_beam:
  instant_effect: prismatic
  range: medium
prismatic_spray:
  instant_effect: prismatic
  burst: large cone
  targets: all
prismatic_storm:
  instant_effect: prismatic
  burst: large radius
  targets: all
  range: medium
prismatic_wall:
  breakable: deal_energy_damage
  zone: large wall
  instant_effect: prismatic
  targets: all
  triggered: true
  trigger_condition: enter_zone
  trigger_duration: short
  range: medium
prismatic_red:
  range: medium
  attack_subeffects:
    effect:
      damage: normal
    success:
      condition: impaired
      duration: short
prismatic_orange:
  range: medium
  attack_subeffects:
    success:
      condition: blinded
      duration: round
prismatic_yellow:
  range: medium
  attack_subeffects:
    effect:
      damage: normal
    success:
      condition: staggered
      duration: round
prismatic_green:
  range: medium
  subeffects:
    - damage: normal
    - condition: sickened
      duration: short
prismatic_blue:
  range: medium
  attack_subeffects:
    success:
      condition: slowed
      duration: short
    failure:
      condition: half_speed
      duration: short
prismatic_indigo:
  range: medium
  attack_subeffects:
    success:
      condition: confused
      duration: round
prohibition:
  emanation: large radius
  damage: normal
  targets: all
  triggered: true
  trigger_condition: break_prohibition
  trigger_duration: short
protection_from_alignment:
  buff:
    damage_reduction: alignment
  duration: short
read_mind:
  attack_subeffects:
    success:
      knowledge: thoughts
  duration: concentration
  range: medium
read_mind_greater:
  knowledge: thoughts
  duration: concentration
  range: long
read_mind_mass:
  base: read_mind
  targets: five
reduce_person:
  buff: reduce_size
  casting_time: full_round_buff
  duration: short
  limit_affected: creature_type
  range: medium
reduce_person_mass:
  base: reduce_person
  targets: five
regeneration_lesser:
  damage: fast_healing
regeneration:
  subeffects:
    - damage: fast_healing
    - buff:
        immune: regeneration
      duration: short
      no_prebuff: true
repulsion:
  condition: shaken
  emanation: large radius
  duration: short
  targets: all
  misc: 1 # slightly larger range than shaken
resist_energy:
  buff:
    damage_reduction: energy_single
  duration: personal_long
  range: close
resist_energy_greater:
  buff:
    damage_reduction: energy_all
  duration: personal_long
  range: close
retributive_shield:
  buffs:
    - damage_reduction: physical
    - retributive_damage
  range: close
  duration: short
  misc: -2 # the retributive damage isn't fully effective
revelation_of_destruction:
  range: close
  condition: severely_impaired
  duration: short
revelation_of_prowess:
  base: precognition
  range: close
  personal_only: false
reverse_gravity:
  zone: medium cylinder
  duration: concentration
  attack_subeffects:
    success:
      condition: immobilized
  targets: all
  range: medium
righteous_might:
  buffs:
    - increase_size
    - damage_reduction: physical
  casting_time: full_round_buff
  duration: short
  personal_only: true
rotting_touch:
  damage: over_time
rotburst:
  damage: over_time
  burst: small radius
  targets: all
rotburst_greater:
  base: rotburst
  burst: large radius
scorching_ray:
  range: close
  attack_subeffects:
    effect:
      damage: normal
    success:
      condition: ignited
      duration: short
searing_light:
  range: close
  attack_subeffects:
    effect:
      damage: normal
    success:
      condition: impaired
      duration: short
see_invisibility:
  duration: personal_long
  buff: see_invisibility
  noncombat_buff: true
see_invisibility_mass:
  casting_time: full_round_buff
  buff: see_invisibility
  noncombat_buff: true
  duration: long
  targets: five
shadow_umbra:
  duration: short
  range: close
  buffs:
    - half_miss_all
    - hide_attack_effects
share_pain:
  duration: short
  range: close
  buff: share_pain
shield_of_faith:
  buff: shield_of_faith
  duration: personal_long
shillelagh:
  buffs:
    - increase_weapon_size
    - awesome_point: attacks
  duration: short
  personal_only: true
shocking_grasp:
  attack_subeffects:
    effect:
      damage: normal
    critical_success:
      condition: staggered
      duration: short
  misc: 1 # for the bonus against metallic targets
shout:
  components: nosomatic
  burst: medium cone
  targets: all
  attack_subeffects:
    effect:
      damage: normal
    success:
      condition: deafened
      duration: short
shout_greater:
  base: shout
  burst: large cone
silence:
  attack_subeffects:
    success:
      condition: silenced
      duration: short
  range: medium
  misc: 2 # for utility as a buff
silence_mass:
  base: silence
  targets: five
skysmite:
  range: extreme
  damage: normal
  targets: automatically_find_one
sleep:
  components: noverbal
  limit_affected: mind_affecting
  range: medium
  attack_subeffects:
    critical_success:
      condition: exhausted
      duration: medium
      misc: 1 # for the compulsion to sleep
    success:
      condition: fatigued
      duration: medium
      misc: 1 # for the compulsion to sleep
sleep_mass:
  base: sleep
  limit: medium radius
  targets: five
slow:
  attack_subeffects:
    success:
      condition: slowed
    failure:
      condition: half_speed
  duration: short
  range: close
slow_mass:
  base: slow
  range: medium
  targets: five
solid_fog:
  zone: medium cylinder
  range: medium
  spell_resistance: false
  conditions:
    - underwater_penalties
    - fog
  targets: all
  duration: short
  breakable: leave_area
sound_burst:
  burst: small radius
  range: close
  damage: normal
  targets: all
spell_resistance:
  range: close
  duration: short
  buff: spell_resistance
#spell_turning
spider_climb:
  buff: climb_speed
  duration: medium
  noncombat_buff: true
spiritual_weapon:
  damage: normal
  triggered: true
  trigger_condition: damage_every_round
  trigger_duration: short
  range: medium
spore_cloud:
  burst: medium radius
  condition: sickened
  duration: short
  targets: all
stinking_cloud:
  zone: medium radius
  duration: short
  spell_resistance: false
  conditions:
    - fog
    - sickened
  range: medium
  targets: all
  breakable: leave_area
stoneskin:
  buff:
    damage_reduction: physical
  duration: personal_long
  range: close
storm_of_vengeance:
  damage: normal
  burst: colossal radius
  targets: enemies
  triggered: true
  trigger_condition: standard_action_by_you
  trigger_duration: concentration
stormlord:
  buffs:
    - half_miss_ranged
    - retributive_damage
  duration: short
  range: long
strip_the_flesh:
  range: close
  dispellable: false
  breakable: standard_skill_check
  attack_subeffects:
    effect:
      damage: normal
    success:
      condition: take_double_damage
      duration: short
suggestion:
  components: nosomatic
  range: close
  limit_affected: mind_affecting
  attack_subeffects:
    critical_success:
      condition: suggestion
      duration: permanent
    success:
      condition: suggestion
      duration: short
suggestion_mass:
  base: suggestion
  range: medium
  targets: five
sunbeam:
  burst: large line
  targets: all
  subeffects:
    - damage: normal
    - attack_subeffects:
        critical_success:
          conditions:
            - blinded
          duration: short
          limit_affected: light_vulnerable
sunburst:
  base: sunbeam
  burst: medium radius
  range: medium
telepathy:
  buff: telepathy
  personal_only: true
  duration: long
temporal_stasis:
  range: medium
  attack_subeffects:
    critical_success:
      condition: out_of_battle
      duration: permanent
    success:
      condition: out_of_battle
      duration: short
    failure:
      condition: half_speed
      duration: short
time_stop:
  buff: time_stop
  duration: short
  personal_only: true
totemic_mind:
  buff:
    attribute: plus2
  duration: personal_long
  choose_effect: true
totemic_mind_mass:
  buff:
    attribute: plus2
  duration: short
  range: medium
  targets: five
  misc: -0.5 # giving the same attribute to everyone is less useful
totemic_mind_greater:
  buff:
    attribute: plus4
  duration: personal_long
  choose_effect: true
totemic_power:
  base: totemic_mind
totemic_power_greater:
  base: totemic_mind_greater
totemic_power_mass:
  base: totemic_mind_mass
#touch_of_idiocy:
transmute_flesh_and_stone:
  range: close
  attack_subeffects:
    effect:
      damage: normal
    success:
      conditions:
        - die_at_zero
      duration: short
tremorsense:
  buff: tremorsense
  duration: personal_long
  noncombat_buff: true
timestream:
  condition: slowed
  breakable: leave_area
  duration: round
  zone: large line
  triggered: true
  trigger_duration: short
  trigger_condition: every_round
  targets: all
true_seeing:
  buff: true_seeing
  duration: short
true_strike:
  buff:
    awesome_point: attacks
  duration: short
  range: medium
unholy_blight:
  limit_affected: nonalignment
  range: medium
  attack_subeffects:
    effect:
      damage: normal
    critical_success:
      condition: staggered
      duration: short
  burst: small radius
  targets: all
unliving_eyes:
  buff: lifesight
  duration: personal_long
  noncombat_buff: true
unliving_heart:
  buffs:
    - temporary_hp
    - undead
  duration: long
  misc: -1 # temporary hit points don't scale well with long duration
  personal_only: true
wail_of_the_banshee:
  burst: medium radius
  components: nosomatic
  targets: all
  attack_subeffects:
    effect:
      damage: kill_at_zero
wall_of_fire:
  breakable: deal_energy_damage
  zone: medium wall
  damage: normal
  targets: all
  triggered: true
  trigger_condition: enter_zone
  trigger_duration: short
  range: medium
wall_of_fire_greater:
  base: wall_of_fire
  zone: huge wall
  shapeable: true
wall_of_force:
  zone: huge wall
  condition: impassable
  targets: all
  duration: short
  range: medium
wall_of_thorns:
  breakable: leave_area_impeded
  zone: medium wall
  duration: short
  range: medium
  targets: all
  subeffects:
    - damage: normal
      triggered: true
      trigger_condition: enter_zone
      trigger_duration: short
    - condition: quarter_speed
wall_of_thorns_greater:
  base: wall_of_thorns
  zone: huge wall
  shapeable: true
water_walk:
  buff: water_walk
  duration: long
  noncombat_buff: true
waves_of_fatigue_greater:
  burst: large cone
  attack_subeffects:
    success:
      condition: exhausted
    failure:
      condition: fatigued
  duration: short
  targets: all
waves_of_fatigue_lesser:
  burst: medium cone
  condition: fatigued
  duration: short
  targets: all
waves_of_fatigue:
  base: waves_of_fatigue_lesser
  burst: large cone
web:
  breakable: grapple
  # can also break the webs?
  zone: medium radius
  targets: all
  duration: short
  attack_subeffects:
    success:
      condition: immobilized
    failure:
      condition: half_speed
  misc: -2 # between two opposing sides
  misc: -1 # webs are easy to destroy
  range: medium
windstrike:
  range: medium
  subeffects:
    - damage: normal
    - instant_effect: shove_weak
windstrike_greater:
  range: extreme
  subeffects:
    - damage: normal
    - instant_effect: shove_strong
zephyr_blade:
  buff: weapon_reach
  duration: personal_long
zephyr_blade_greater:
  buffs:
    - weapon_reach
    - melee_weapon_range
  duration: personal_long
  range: close
cone_of_nauseated:
  condition: nauseated
  duration: short
  burst: medium cone
  targets:  all
excrete_slime:
  buff: retributive_damage
  duration: short
  personal_only: true
rock_blast:
  damage: normal
  burst: medium line
  targets: all
  spell_resistance: false
zoom_zoom:
  buff: double_speed
  duration: long
  personal_only: true
radiant_lance:
  subeffects:
    - damage: normal
    - condition: faerie_fire
      duration: short
  range: close
